/* ng-infinite-scroll - v1.0.0 - 2013-12-09 */
angular.module("infinite-scroll",[]).directive("infiniteScroll",["$rootScope","$window","$timeout",function(n,i,t){return{link:function(e,l,r){var o,c,f,a,u;return i=angular.element(i),a=0,null!=r.infiniteScrollDistance&&e.$watch(r.infiniteScrollDistance,function(n){return a=parseInt(n,10)}),u=!0,o=!1,null!=r.infiniteScrollDisabled&&e.$watch(r.infiniteScrollDisabled,function(n){return u=!n,u&&o?(o=!1,f()):void 0}),c=i,null!=r.infiniteScrollContainer&&e.$watch(r.infiniteScrollContainer,function(n){if(n=angular.element(n),null!=n)return c=n;throw new Exception("invalid infinite-scroll-container attribute.")}),null!=r.infiniteScrollParent&&(c=l.parent(),e.$watch(r.infiniteScrollParent,function(){return c=l.parent()})),f=function(){var t,f,h,s;return c===i?(t=c.height()+c.scrollTop(),f=l.offset().top+l.height()):(t=c.height(),f=l.offset().top-c.offset().top+l.height()),h=f-t,s=c.height()*a>=h,s&&u?n.$$phase?e.$eval(r.infiniteScroll):e.$apply(r.infiniteScroll):s?o=!0:void 0},c.on("scroll",f),e.$on("$destroy",function(){return c.off("scroll",f)}),t(function(){return r.infiniteScrollImmediateCheck?e.$eval(r.infiniteScrollImmediateCheck)?f():void 0:f()},0)}}}]);